<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			/*
、				包括 回车 换行，空格同样回组成文本节点
				问题：如何识别出空白结点
			*/
		   // window.onload = function(){
			  //  var oDiv = document.getElementById("look");
			  //  alert(oDiv.childNodes[0].nodeName);
			  //  alert(oDiv.childNodes[0].nodeType);
			  //  alert(oDiv.childNodes[0].nodeValue);
		   // }
		   function rmspaceNode(nodes){
			   var result = [];
			   for(var i = nodes.length; i >=1;i--){
				   if(nodes[i].nodeType == 3 && /^\s+$/.test(nodes[i].nodeValue)){
					   continue;
				   }
				   result.push(nodes[i]);
			   }
			   return result;
		   }
		   function rmspaceNode2(parent){
		   		var nodes = parent.childNodes;
				for(var i = nodes.length;i >= 0;i--){
					if(nodes[i].nodeType ==3 && /^\s+$/.test(nodes[i].nodeValue))
					{//删除数组元素倒删的原因：删掉一个数组元素，下一个数组元素会顶上来
					//解决方法：倒着删，或者删完再检测一个
						parent.removeChild(nodes[i]);
					}
				}
				return parent
		   }
		   window.onload = function(){
			   var oDiv = document.getElementById("look");
			  // alert(oDiv.childNodes.length);
			  //alert(rmspaceNode(oDiv.childNodes).length);
			   alert(rmspaceNode2(oDiv).childNodes.length);
		   }
		//childNode是一个对象
		</script>
	</head>
	<body>
		<div id="look">
			<em>斜体</em>
			文本内容
			<em>斜体</em>
			</div>
	</body>
</html>
