<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="./animate.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			ul{
				list-style: none;
			}
			.slider{
				width: 700px;
				height: 400px;
				border: 5px solid crimson;
				position: relative;
			}
			.slider .list .item{
				position: absolute;
				left: 0;
				top: 0;
				opacity: 0;
			}
			.slider .list .item:first-of-type{
				opacity: 1;
			}
			.slider .list .item img{
				width: 700px;
				width: 400px;
				display: block;
			}
			button{
				position: absolute;
				top:230px;
			}
			.next{
				right: 0;
			}
		</style>
	</head>
	<body>
		<div class="slider">
			<ul class="list">
				<li class="item"><img src="../img/Snipaste_2020-09-17_20-38-18.png" alt="" title="123"></li>
				<li class="item"><img src="../img/Snipaste_2020-09-17_20-45-58.png" alt=""></li>
				<li class="item"><img src="../img/Snipaste_2020-09-17_20-46-07.png" alt=""></li>
				<li class="item"><img src="../img/Snipaste_2020-09-17_20-46-11.png" alt=""></li>
			</ul>
			<button type="button" class = "prev">prev</button>
			<button type="button" class = "next">next</button>
		</div>
		<script type="text/javascript">
			
			
		var preIndex,nextIndex;
		var len;
				
				function init(){

					preIndex=nextIndex=0;
					len = document.getElementsByClassName("item").length;
					console.log(document.querySelector(".item"));
					//console.log(document.getElementsByClassName("item"));返回值不同
					
					document.querySelector(".prev").onclick = function(){
						
						slidePrev();
						
						
					}
					document.querySelector('.next').onclick = function(){
						slideNext();
					}
				}
				function slidePrev(){
					preIndex=nextIndex;
					nextIndex--;
					if(nextIndex == -1){
						nextIndex = len-1;
					}
					slideTo(preIndex,nextIndex);
				}
				function slideNext(){
					preIndex=nextIndex;
					nextIndex++;
					if(nextIndex == len){
						nextIndex = 0
					}
					slideTo(preIndex,nextIndex);
				}
				function slideTo(prev,next){
					var lis = document.querySelectorAll('.item');
					console.log(lis);
					animate(lis[preIndex],{opacity:0});
					animate(lis[nextIndex],{opacity:100});
				}
				init();
				
			
		</script>
	</body>
</html>
